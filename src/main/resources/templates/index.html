<head>
    <meta charset="UTF-8">
    <title>SOOP μ•ν”Όμ§€</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<div class="header">
    <h1>π³ SOOP μ•ν”Όμ§€</h1>
    <div>
        <span class="rank-badge" th:text="${userRank}">λ“±κΈ‰</span>
        <span style="font-weight: bold; margin-left: 10px;"
              th:text="${#numbers.formatInteger(userGold, 3, 'COMMA') + ' G'}">0 G</span>
    </div>
</div>

<div class="stock-grid">
    <div class="stock-card" th:each="s : ${streamers}">
        <div class="character-circle">π±</div>
        <a th:href="@{/detail(id=${s.id})}"
           th:text="${s.streamerName}"
           style="text-decoration: none; color: #007bff;">
            μ¤νΈλ¦¬λ¨Έλ…
        </a>
        <p class="rank-badge" th:text="${s.rankName}">λ“±κΈ‰</p>

        <p class="price" th:text="${#numbers.formatInteger(s.currentPrice, 3, 'COMMA') + ' G'}">0 G</p>

        <p th:class="${s.changeRate > 0 ? 'up' : 'down'}"
           th:text="${(s.changeRate > 0 ? 'β–² ' : 'β–Ό ') + s.changeRate + '%'}">0%</p>

        <p style="font-size: 0.8em; color: #999;" th:text="${'π‘¥ ' + s.currentViewers + 'λ…'}">μ‹μ²­μ</p>

        <button class="buy-button"
                th:onclick="'buyStock(' + ${s.id} + ')'">
            λ§¤μν•κΈ°
        </button>
    </div>
</div>
<div style="margin-top: 50px; padding: 20px; background-color: #f9f9f9; border-radius: 10px;">
    <h2>π’Ό λ‚μ ν¬νΈν΄λ¦¬μ¤</h2>
    <p th:if="${#lists.isEmpty(myStocks)}">λ³΄μ  μ¤‘μΈ μ£Όμ‹μ΄ μ—†μµλ‹λ‹¤. μ¤νΈλ¦¬λ¨Έλ¥Ό μ‘μ›ν•΄λ³΄μ„Έμ”!</p>
    <ul>
        <li th:each="stock : ${myStocks}">
            <strong th:text="${stock.streamerName}">μ¤νΈλ¦¬λ¨Έ</strong> :
            <span th:text="${stock.quantity}">0</span>μ£Ό λ³΄μ 
            (ν‰λ‹¨κ°€: <span th:text="${stock.averagePrice}">0</span>G)
        </li>
    </ul>
</div>
</body>

<script th:src="@{/js/game.js}"></script>